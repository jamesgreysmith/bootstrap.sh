#
# bootstrap.sh global configuration file
#

# Try to use the actual versions of these commands instead of the builtins.
ECHO_CMD="`which echo`"
[ "${ECHO_CMD}" != "" ] || ECHO_CMD="`echo`" # Fallback to builtin.
MKDIR_CMD="`which mkdir`"
[ "${MKDIR_CMD}" != "" ] || MKDIR_CMD="`mkdir`" # Fallback to builtin.
RM_CMD=`which rm`
[ "${RM_CMD}" != "" ] || RM_CMD="`rm`"
LN_CMD=`which ln`
[ "${LN_CMD}" != "" ] || LN_CMD="`ln`"
GREP_CMD="`which grep`"
CUT_CMD="`which cut`"
[ "`which date`" == "" ] || DATE_CMD=`date`
[ "`which date`" != "" ] || DATE_CMD="No date command in PATH."

# More commands...
SIG_VERIFY_CMD="gpg --quiet --yes --no-greeting --keyserver-options auto-key-retrieve --verify"
DISTDIR_LIST='pkgconf texinfo binutils gmp mpfr mpc cloog-isl gcc bison flex'
GET_CMD="wget"
TAR_CMD="tar --exclude-vcs -x -a -f"
GMAKE="make"
SHA512SUM_CMD="sha512sum"
LOGFILE="${SCRIPTDIR}/bootstrap.log"
CHECKSUM_CACHE="${SCRIPTDIR}/bootstrap_checksum_cache.cfg"

# Default is to download and check the PGP sigs.
CHECK_SIGS="True"

PKGCONF_DIST_NAME="pkgconf"
TEXINFO_DIST_NAME="texinfo"
BINUTILS_DIST_NAME="binutils"
GMP_DIST_NAME="gmp"
MPFR_DIST_NAME="mpfr"
MPC_DIST_NAME="mpc"
CLOOG_ISL_DIST_NAME="cloog"
GCC_DIST_NAME="gcc"
BISON_DIST_NAME="bison"
FLEX_DIST_NAME="flex"

PKGCONF_DIST_VERSION="1.5.3"
TEXINFO_DIST_VERSION="6.5"
BINUTILS_DIST_VERSION="2.31.1"
GMP_DIST_VERSION="6.1.2"
MPFR_DIST_VERSION="4.0.1"
MPC_DIST_VERSION="1.1.0"
CLOOG_ISL_DIST_VERSION="0.18.4"
GCC_DIST_VERSION="6.4.0"
BISON_DIST_VERSION="3.1"
FLEX_DIST_VERSION="2.6.4"

PKGCONF_DIST_ARCHIVE="${PKGCONF_DIST_NAME}-${PKGCONF_DIST_VERSION}.tar.gz"
TEXINFO_DIST_ARCHIVE="${TEXINFO_DIST_NAME}-${TEXINFO_DIST_VERSION}.tar.xz"
BINUTILS_DIST_ARCHIVE="${BINUTILS_DIST_NAME}-${BINUTILS_DIST_VERSION}.tar.xz"
GMP_DIST_ARCHIVE="${GMP_DIST_NAME}-${GMP_DIST_VERSION}.tar.xz"
MPFR_DIST_ARCHIVE="${MPFR_DIST_NAME}-${MPFR_DIST_VERSION}.tar.xz"
MPC_DIST_ARCHIVE="${MPC_DIST_NAME}-${MPC_DIST_VERSION}.tar.gz"
CLOOG_ISL_DIST_ARCHIVE="${CLOOG_ISL_DIST_NAME}-${CLOOG_ISL_DIST_VERSION}.tar.gz"
GCC_DIST_ARCHIVE="${GCC_DIST_NAME}-${GCC_DIST_VERSION}.tar.xz"
BISON_DIST_ARCHIVE="${BISON_DIST_NAME}-${BISON_DIST_VERSION}.tar.xz"
FLEX_DIST_ARCHIVE="${FLEX_DIST_NAME}-${FLEX_DIST_VERSION}.tar.gz"

PKGCONF_DIST="https://distfiles.dereferenced.org/pkgconf/${PKGCONF_DIST_ARCHIVE}"
TEXINFO_DIST="https://ftp.gnu.org/gnu/texinfo/${TEXINFO_DIST_ARCHIVE}"
BINUTILS_DIST="https://ftp.gnu.org/gnu/binutils/${BINUTILS_DIST_ARCHIVE}"
GMP_DIST="https://ftp.gnu.org/gnu/gmp/${GMP_DIST_ARCHIVE}"
MPFR_DIST="https://ftp.gnu.org/gnu/mpfr/${MPFR_DIST_ARCHIVE}"
MPC_DIST="https://ftp.gnu.org/gnu/mpc/${MPC_DIST_ARCHIVE}"
CLOOG_ISL_DIST="https://www.bastoul.net/cloog/pages/download/count.php3?url=./${CLOOG_ISL_DIST_ARCHIVE}"
GCC_DIST="https://ftp.gnu.org/gnu/gcc/gcc-${GCC_DIST_VERSION}/${GCC_DIST_ARCHIVE}"
BISON_DIST="https://ftp.gnu.org/gnu/bison/${BISON_DIST_ARCHIVE}"
FLEX_DIST="https://github.com/westes/flex/files/981163/${FLEX_DIST_ARCHIVE}"

PKGCONF_DIST_SUBDIR="${PKGCONF_DIST_NAME}-${PKGCONF_DIST_VERSION}"
TEXINFO_DIST_SUBDIR="${TEXINFO_DIST_NAME}-${TEXINFO_DIST_VERSION}"
BINUTILS_DIST_SUBDIR="${BINUTILS_DIST_NAME}-${BINUTILS_DIST_VERSION}"
GMP_DIST_SUBDIR="${GMP_DIST_NAME}-${GMP_DIST_VERSION}"
MPFR_DIST_SUBDIR="${MPFR_DIST_NAME}-${MPFR_DIST_VERSION}"
MPC_DIST_SUBDIR=${MPC_DIST_NAME}-${MPC_DIST_VERSION}
CLOOG_ISL_DIST_SUBDIR="${CLOOG_ISL_DIST_NAME}-${CLOOG_ISL_DIST_VERSION}"
BISON_DIST_SUBDIR="${BISON_DIST_NAME}-${BISON_DIST_VERSION}"
FLEX_DIST_SUBDIR="${FLEX_DIST_NAME}-${FLEX_DIST_VERSION}"
GCC_DIST_SUBDIR="${GCC_DIST_NAME}-${GCC_DIST_VERSION}"

#
# CAUTION: if there isn't a checksum then it must be
# set to "none", otherwise it'll hit an error.
#
PKGCONF_DIST_SHA512="46331e99c4a13046786f2195e8821b8089c5a529838162126fe3bbef334d5457a963f8fa977302b6afaf9bd524449baed7d99af590dae7caccdaf1454171d47f"
TEXINFO_DIST_SHA512="06831b4c74a1ba7a9cff937069e40ab26db1204aa8761d63254651ffacf6b0cb95d7078ba1cc59d95427239ab7e4f4aedf582967854281bfea3850b1ed5b1fdc"
# BINUTILS_DIST_MD5="5b7c9d4ce96f507d95c1b9a255e52418"
BINUTILS_DIST_SHA512="0fca326feb1d5f5fe505a827b20237fe3ec9c13eaf7ec7e35847fd71184f605ba1cefe1314b1b8f8a29c0aa9d88162849ee1c1a3e70c2f7407d88339b17edb30"
# GMP_DIST_MD5="f58fa8001d60c4c77595fbbb62b63c1d"
GMP_DIST_SHA512="9f098281c0593b76ee174b722936952671fab1dae353ce3ed436a31fe2bc9d542eca752353f6645b7077c1f395ab4fdd355c58e08e2a801368f1375690eee2c6"
# MPFR_DIST_MD5="b8dd19bd9bb1ec8831a6a582a7308073"
MPFR_DIST_SHA512="137ad68bc1e33a155edc1247fcdba27f999cf48ed526773136584090ddf2cfdfc9ea79fbf74ea1943b835b4b1ff29b05087114738c6ad3b485848540f30cac4f"
# MPC_DIST_MD5="4125404e41e482ec68282a2e687f6c73"
MPC_DIST_SHA512="72d657958b07c7812dc9c7cbae093118ce0e454c68a585bfb0e2fa559f1bf7c5f49b93906f580ab3f1073e5b595d23c6494d4d76b765d16dde857a18dd239628"
CLOOG_ISL_DIST_SHA512="d35d67b08ffe13c1a010b65bfe4dd02b0ae013d5b489e330dc950bd3514defca8f734bd37781856dcedf0491ff6122c34eecb4b0fe32a22d7e6bdadea98c8c23"
GCC_DIST_SHA512="02c60e54527c7adf584798d5251f8a0b80c93d5deafce82501b2c28e6692e0bd783927bbfc4bc527a863c0cccc025150a34740a9e29badb02d4b48e56a8aba90"
BISON_DIST_SHA512="2a8e217ffb55ed5b1fcc989377ac348a066e62b8a4b0b0da40c3c7202f3ea487b2aab6a704a10b48d2d17673be0e22f6ff1be91fc05c4e0a57969b42a59d0152"
# FLEX_DIST_MD5="2882e3179748cc9f9c23ec593d6adc8d"
FLEX_DIST_SHA512="e9785f3d620a204b7d20222888917dc065c2036cae28667065bf7862dfa1b25235095a12fd04efdbd09bfd17d3452e6b9ef953a8c1137862ff671c97132a082e"

# Only used below, and in the sigcheck command.
PKGCONF_DIST_SIG="none"
TEXINFO_DIST_SIG_FILE="${TEXINFO_DIST_ARCHIVE}.sig"
BINUTILS_DIST_SIG_FILE="${BINUTILS_DIST_ARCHIVE}.sig"
GMP_DIST_SIG_FILE="${GMP_DIST_ARCHIVE}.sig"
MPFR_DIST_SIG_FILE="${MPFR_DIST_ARCHIVE}.sig"
MPC_DIST_SIG_FILE="${MPC_DIST_ARCHIVE}.sig"
CLOOG_ISL_DIST_SIG="none"
GCC_DIST_SIG_FILE="${GCC_DIST_ARCHIVE}.sig"
BISON_DIST_SIG_FILE="${BISON_DIST_ARCHIVE}.sig"
FLEX_DIST_SIG_FILE="${FLEX_DIST_ARCHIVE}.sig"

#
# CAUTION again: if there isn't a sig then it must be
# set to "none", otherwise it'll hit an error.
#
PKGCONF_DIST_SIG="none"
TEXINFO_DIST_SIG="https://ftp.gnu.org/gnu/texinfo/${TEXINFO_DIST_SIG_FILE}"
BINUTILS_DIST_SIG="https://ftp.gnu.org/gnu/binutils/${BINUTILS_DIST_SIG_FILE}"
GMP_DIST_SIG="https://ftp.gnu.org/gnu/gmp/${GMP_DIST_SIG_FILE}"
MPFR_DIST_SIG="https://ftp.gnu.org/gnu/mpfr/${MPFR_DIST_SIG_FILE}"
MPC_DIST_SIG="https://ftp.gnu.org/gnu/mpc/${MPC_DIST_SIG_FILE}"
CLOOG_ISL_DIST_SIG="none"
GCC_DIST_SIG="https://ftp.gnu.org/gnu/gcc/gcc-${GCC_DIST_VERSION}/${GCC_DIST_SIG_FILE}"
BISON_DIST_SIG="https://ftp.gnu.org/gnu/bison/${BISON_DIST_SIG_FILE}"
FLEX_DIST_SIG="https://github.com/westes/flex/releases/download/v${FLEX_DIST_VERSION}/${FLEX_DIST_SIG_FILE}"
